const CACHE_VERSION=39,CORE="core-cache",CORE_FILES=["/js/discover.js","/js/mainScrollTrigger.js","/js/navigation.js","/js/scrollingStory.js","/js/lib/gsap-st.js","/js/lib/gsap-stp-st.js","/js/lib/gsap.js","/css/style.css","/fonts/AustralSansStamp-Regular.woff","/fonts/AustralSansStamp-Regular.woff2","/fonts/Black-Ground.woff2","/fonts/Black-Ground.woff","/images/3d_building.png","/images/3d_building.webp","/images/arrow.png","/images/arrow.webp","/images/BG_red.jpeg","/images/BG_red.webp","/images/button_bg_light_square.png","/images/button_bg_light_square.webp","/images/button_bg_light.png","/images/button_bg_light.webp","/images/ilojo_bar_bw_1.jpg","/images/ilojo_bar_bw_1.webp","/images/ilojo_bar_bw_2.png","/images/ilojo_bar_bw_2.webp","/images/ilojo_bar_bw_3.png","/images/ilojo_bar_bw_3.webp","/images/Logo_IlojoBar.png","/images/Logo_IlojoBar.webp","/images/menu.png","/images/menu.webp","/images/window_bg.png","/images/window_bg.webp","/images/window_L.png","/images/window_L.webp","/images/window_R.png","/images/window_R.webp","/images/windows.png","/images/windows.webp","/images/menuSide.png","/images/menuSide.webp","/images/close.png","/images/close.webp","offline"];function fetchAndCache(s,n){return fetch(s).then(e=>{if(!e.ok)throw new TypeError("Bad response status");var t=e.clone();return caches.open(n).then(e=>e.put(s,t)),e})}function isHtmlGetRequest(e){let t=getPathName(e.url);return"GET"===e.method&&null!==e.headers.get("accept")&&e.headers.get("accept").includes("text/html")&&!t.includes("search")}function isCoreGetRequest(e){return"GET"===e.method&&CORE_FILES.includes(getPathName(e.url))}function isOtherGetRequest(e){return"GET"===e.method&&null!==e.headers.get("accept")&&e.headers.get("accept").includes("text/html")}function getPathName(e){return new URL(e).pathname}self.addEventListener("install",function(e){e.waitUntil(caches.open(CORE).then(function(e){return self.skipWaiting(),e.addAll(CORE_FILES)})),console.log("[serviceWorker] Installed")}),self.addEventListener("activate",function(e){console.log("[serviceWorker] Activated")}),self.addEventListener("fetch",function(t){isCoreGetRequest(t.request)?t.respondWith(caches.open(CORE).then(e=>e.match(t.request.url))):isHtmlGetRequest(t.request)?t.respondWith(caches.match(t.request.url).then(e=>e?(t.waitUntil(fetchAndCache(t.request.url,"html-cache")),e):fetchAndCache(t.request.url,"html-cache")).catch(e=>caches.open(CORE).then(e=>e.match("/offline")))):isOtherGetRequest(t.request)&&t.respondWith(fetch(t.request).then(e=>e).catch(e=>caches.open(CORE).then(e=>e.match("/offline"))))});